<h1 style="display: inline">List of <%=current_user.first_name %>'s Shusher profiles</h1>
<% if @all_user_shushers == nil %>
  You don't have any Shusher profiles, please create a new one. 
<% end %>


<%#= link_to "Create a new Shusher profile", new_shusher_path, class: "btn btn-primary btn-lg", remote: true %> 

<!-- <div id="shusher-form" style="display:none">
  <%#= render "form" %>
</div> -->


<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#myModal">Click to create a new Shusher profile modal</button>


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">New Shusher Profile:</h4>
      </div>
      <div class="modal-body">

        <%= render "form" %>  <!-- move the 'Close' button to inside the Form -->

      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div> -->
    </div>
  </div>
</div>




<div class="row shusher-index">

    <% @all_user_shushers.each do |s| %>
      <div class="col-sm-4 col-md-4">
        <div class="well">
          <h2><%= link_to s.name, s %></h2>
          <ul>
            <li><%= s.sound_threshold %></li>
            <li><%= s.shout_msg %></li>
            <li><%= s.mac_address %></li>
            <li><%= s.user.first_name %> <%= s.user.last_name %></li>

            <!-- 'cancancan' restriction at Viewer level -->
            <% if can? :manage, s %>
              <%= link_to "Edit", edit_shusher_path(s), class: "btn btn-primary btn-md", remote: true %>
              <%= link_to "Delete",  shusher_path(s), class: "btn btn-default btn-md", method: :delete, data: {confirm: "Delete this Shusher model?"}, remote: true %>
            <% end %>
          </ul>
        </div>
      </div>
    <% end %>

</div>
